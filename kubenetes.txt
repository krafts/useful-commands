
### find pods which belong to no rcs or rc is none
kubectl get pods --all-namespaces --no-headers | awk '{print $1"|"$2}' | while read i; do n=$(echo $i | awk -F'|' '{print $1}'); p=$(echo $i | awk -F '|' '{print $2}'); r=$(kubectl describe pod $p --namespace $n | grep "Replication Controllers" | awk '{print $3}'); if [ "$r" == "<none>" ]; then echo -e "$n\t$p\t$r"; fi; done;

### get the image versions of the containers in the pods
kubectl get pods --all-namespaces --no-headers | awk '{print $1"|"$2}' | sort | uniq | while read i; do n=$(echo $i | awk -F'|' '{print $1}'); p=$(echo $i | awk -F '|' '{print $2}'); r=$(kubectl describe pod $p --namespace $n | grep "Replication Controllers" | awk '{print $3}'); image=$(kubectl describe pod $p --namespace $n | grep "Image:" | awk '{print $2}' | sed -e 's/quay.io\/weightwatchers\///g'); echo -e "$n\t$r\t$p\t\n$image"; echo; done;

